<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EarlyBird Delivery - Delivery Buddy</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../styles/styles.css">
    <link rel="stylesheet" href="../styles/subscription-integration.css">
</head>
<body>
    <div class="app-wrapper">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <div class="logo-icon">üåÖ</div>
                    <div class="logo-text">
                        <h1>EarlyBird</h1>
                        <p>Delivery Buddy</p>
                    </div>
                </div>
            </div>

            <nav class="nav-menu">
                <div class="nav-item active" data-page="todays-route" onclick="showPage('todays-route'); deliveryBoyUI.loadTodayRoute()">
                    <span class="nav-icon">üéØ</span>
                    <span>Today's Route</span>
                </div>
                <div class="nav-item" data-page="calendar" onclick="showPage('calendar')">
                    <span class="nav-icon">üìÖ</span>
                    <span>Calendar</span>
                </div>
                <div class="nav-item" data-page="dashboard" onclick="showPage('dashboard')">
                    <span class="nav-icon">üìä</span>
                    <span>Dashboard</span>
                </div>
                <div class="nav-item" data-page="am-deliveries" onclick="showPage('am-deliveries')">
                    <span class="nav-icon">üåÖ</span>
                    <span>AM Deliveries</span>
                </div>
                <div class="nav-item" data-page="pm-deliveries" onclick="showPage('pm-deliveries')">
                    <span class="nav-icon">üåô</span>
                    <span>PM Deliveries</span>
                </div>
                <div class="nav-item" data-page="wallet" onclick="showPage('wallet')">
                    <span class="nav-icon">üí∞</span>
                    <span>My Wallet</span>
                </div>
                <div class="nav-item" data-page="earnings" onclick="showPage('earnings')">
                    <span class="nav-icon">üìä</span>
                    <span>Earnings</span>
                </div>
                <div style="margin: 12px 20px; height: 1px; background: var(--border);"></div>
                <div style="padding: 12px 20px; font-size: 11px; font-weight: 700; text-transform: uppercase; color: var(--text-tertiary);">Phase 3 Analytics</div>
                <div class="nav-item" data-page="analytics" onclick="showPage('analytics'); phase3UI.initAnalyticsUI()">
                    <span class="nav-icon">üìà</span>
                    <span>Analytics</span>
                </div>
            </nav>

            <div style="padding: 20px; border-top: 1px solid var(--border); margin-top: auto;">
                <div style="background: linear-gradient(135deg, #06D6A0 0%, #04AA83 100%); color: white; padding: 16px; border-radius: 8px; margin-bottom: 12px;">
                    <div style="font-size: 12px; opacity: 0.9; margin-bottom: 4px;">Today's Earnings</div>
                    <div style="font-size: 24px; font-weight: 700;">‚Çπ1,280</div>
                    <div style="font-size: 11px; opacity: 0.8; margin-top: 4px;">42 deliveries completed</div>
                </div>
                <div class="user-info" style="margin-bottom: 12px; padding: 12px; background: rgba(255,255,255,0.1); border-radius: 8px;">
                    <div style="font-size: 12px; opacity: 0.8; margin-bottom: 4px;">Logged in as</div>
                    <div class="user-name" style="font-weight: 600;">Delivery Boy</div>
                </div>
                <button class="btn btn-outline" style="width: 100%; margin-bottom: 8px;" onclick="EarlyBirdAuth.logout(); window.location.href='login.html'">
                    üö™ Logout
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Today's Route Page -->
            <div id="todays-routePage" class="page-content">
                <div class="page-header">
                    <div class="page-header-left">
                        <h2>üéØ Today's Route</h2>
                        <p id="routeDate">Loading deliveries...</p>
                    </div>
                    <div style="display: flex; gap: 12px;">
                        <input type="date" id="deliveryDatePicker"
                            onchange="deliveryBoyUI.loadTodayRoute()"
                            style="padding: 10px; border: 1px solid var(--border); border-radius: 6px; font-size: 14px;">
                        <button class="btn btn-outline" onclick="deliveryBoyUI.loadTodayRoute()">
                            üîÑ Refresh
                        </button>
                        <button class="btn btn-primary" onclick="deliveryBoyUI.startNavigation()">
                            üó∫Ô∏è Start Navigation
                        </button>
                    </div>
                </div>

                <!-- Summary Cards -->
                <div class="stat-grid" style="margin-bottom: 20px;">
                    <div class="stat-card primary">
                        <div class="stat-label">Total Deliveries</div>
                        <div class="stat-value" id="totalDeliveries">0</div>
                        <div class="stat-change" id="deliveryBreakdown">-</div>
                    </div>
                    <div class="stat-card success">
                        <div class="stat-label">Completed</div>
                        <div class="stat-value" id="completedCount">0</div>
                        <div class="stat-change" id="completionRate">0%</div>
                    </div>
                    <div class="stat-card warning">
                        <div class="stat-label">Pending</div>
                        <div class="stat-value" id="pendingCount">0</div>
                        <div class="stat-change" id="pendingBreakdown">-</div>
                    </div>
                    <div class="stat-card secondary">
                        <div class="stat-label">Total Items</div>
                        <div class="stat-value" id="totalItems">0</div>
                        <div class="stat-change" id="itemsBreakdown">-</div>
                    </div>
                </div>

                <!-- Deliveries by Area -->
                <div id="deliveriesByArea">
                    <!-- Area cards will be rendered here -->
                </div>
            </div>

            <!-- Calendar Page -->
            <div id="calendarPage" class="page-content" style="display: none;">
                <div class="page-header">
                    <div class="page-header-left">
                        <h2>üìÖ Delivery Calendar</h2>
                        <p>Your delivery schedule and route planning</p>
                    </div>
                    <button class="btn btn-primary" onclick="Toast.info('Starting route navigation...', 'Navigation')">
                        üó∫Ô∏è Start Route
                    </button>
                </div>

                <div class="heat-map-legend">
                    <span class="legend-title">My Delivery Load</span>
                    <div class="legend-items">
                        <div class="legend-item">
                            <div class="legend-color" style="background: var(--heat-low);"></div>
                            <span>Light (1-15)</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: var(--heat-medium);"></div>
                            <span>Medium (16-30)</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: var(--heat-high);"></div>
                            <span>Heavy (31-45)</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: var(--heat-alert);"></div>
                            <span>Very Heavy (46+)</span>
                        </div>
                    </div>
                </div>

                <div class="calendar-layout">
                    <div class="calendar-container">
                        <div class="calendar-header">
                            <h3 class="calendar-month-title" id="calendarMonthTitle"></h3>
                            <div class="calendar-nav">
                                <button onclick="changeMonth(-1)">‚óÄ Previous</button>
                                <button onclick="changeMonth(0)">Today</button>
                                <button onclick="changeMonth(1)">Next ‚ñ∂</button>
                            </div>
                        </div>
                        <div id="calendarGrid"></div>
                    </div>
                    
                    <div class="date-detail-view" id="dateDetailView">
                        <!-- Date details will be rendered here -->
                    </div>
                </div>
            </div>

            <!-- Dashboard Page -->
            <div id="dashboardPage" class="page-content" style="display: none;">
                <div class="page-header">
                    <div class="page-header-left">
                        <h2>üìä Delivery Dashboard</h2>
                        <p>Subscription-focused delivery performance (85% recurring revenue)</p>
                    </div>
                    <div style="display: flex; gap: 12px;">
                        <button class="btn btn-primary" onclick="subscriptionIntegration.showCreateSubscriptionModal()">
                            üîÑ NEW Subscription
                        </button>
                        <button class="btn btn-success" onclick="subscriptionIntegration.showCreateOrderModal()">
                            üì¶ NEW Order
                        </button>
                    </div>
                </div>

                <!-- Subscription Delivery Focus -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 24px;">
                    <div style="padding: 16px; background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%); border-radius: 12px; border-left: 4px solid var(--primary);">
                        <div style="font-size: 12px; font-weight: 700; color: var(--primary); margin-bottom: 4px;">üîÑ SUBSCRIPTION DELIVERIES (Primary)</div>
                        <div style="font-size: 20px; font-weight: 700; color: var(--text-primary); margin-bottom: 4px;">Recurring Orders</div>
                        <div style="font-size: 11px; color: var(--text-secondary);">Scheduled, predictable, reliable revenue</div>
                    </div>
                    <div style="padding: 16px; background: linear-gradient(135deg, rgba(76, 175, 80, 0.1) 0%, rgba(56, 142, 60, 0.1) 100%); border-radius: 12px; border-left: 4px solid #4caf50;">
                        <div style="font-size: 12px; font-weight: 700; color: #2e7d32; margin-bottom: 4px;">üì¶ INSTANT ORDERS (Bonus)</div>
                        <div style="font-size: 20px; font-weight: 700; color: var(--text-primary); margin-bottom: 4px;">Ad-hoc Deliveries</div>
                        <div style="font-size: 11px; color: var(--text-secondary);">Extra bonus earnings</div>
                    </div>
                </div>

                <div class="stat-grid">
                    <div class="stat-card primary">
                        <div class="stat-label">Today's Subscriptions</div>
                        <div class="stat-value">39</div>
                        <div class="stat-change">AM: 32 | PM: 7 (PRIMARY)</div>
                    </div>
                    <div class="stat-card success">
                        <div class="stat-label">Completed</div>
                        <div class="stat-value">42/47</div>
                        <div class="stat-change">89% completion rate</div>
                    </div>
                    <div class="stat-card warning">
                        <div class="stat-label">Instant Orders</div>
                        <div class="stat-value">8</div>
                        <div class="stat-change">+‚Çπ240 bonus (Secondary)</div>
                    </div>
                    <div class="stat-card secondary">
                        <div class="stat-label">Today's Earnings</div>
                        <div class="stat-value">‚Çπ1,280</div>
                        <div class="stat-change">~‚Çπ1,040 from subscriptions</div>
                    </div>
                </div>

                <div class="card">
                    <h3 style="margin-bottom: 20px;">Today's Route</h3>
                    <div style="background: var(--light); padding: 16px; border-radius: 8px;">
                        <div style="font-size: 14px; color: var(--text-secondary); margin-bottom: 12px;">
                            üìç Route: Koramangala Sector 2 ‚Üí HSR Layout ‚Üí Indiranagar
                        </div>
                        <div style="display: flex; gap: 12px;">
                            <button class="btn btn-primary">üó∫Ô∏è Open in Maps</button>
                            <button class="btn btn-outline">üìã View List</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- AM Deliveries Page -->
            <div id="am-deliveriesPage" class="page-content" style="display: none;">
                <div class="page-header">
                    <div class="page-header-left">
                        <h2>üåÖ Morning Deliveries</h2>
                        <p id="amDeliveryCount">Loading...</p>
                    </div>
                    <button class="btn btn-primary" onclick="deliveryBoyUI.showAMDeliveries()">üîÑ Refresh</button>
                </div>
                <div id="amDeliveriesList" class="card">
                    <p style="text-align: center; color: var(--text-secondary);">Loading deliveries...</p>
                </div>
            </div>

            <!-- PM Deliveries Page -->
            <div id="pm-deliveriesPage" class="page-content" style="display: none;">
                <div class="page-header">
                    <div class="page-header-left">
                        <h2>üåô Evening Deliveries</h2>
                        <p id="pmDeliveryCount">Loading...</p>
                    </div>
                    <button class="btn btn-primary" onclick="deliveryBoyUI.showPMDeliveries()">üîÑ Refresh</button>
                </div>
                <div id="pmDeliveriesList" class="card">
                    <p style="text-align: center; color: var(--text-secondary);">Loading deliveries...</p>
                </div>
            </div>

            <!-- Wallet Page -->
            <div id="walletPage" class="page-content" style="display: none;">
                <div class="page-header">
                    <div class="page-header-left">
                        <h2>üí∞ My Wallet</h2>
                        <p>Your earnings wallet and transactions</p>
                    </div>
                </div>
                <div class="card">
                    <div style="background: linear-gradient(135deg, #06D6A0 0%, #04AA83 100%); color: white; padding: 32px; border-radius: 12px; margin-bottom: 24px;">
                        <div style="font-size: 14px; opacity: 0.9; margin-bottom: 8px;">Available Balance</div>
                        <div style="font-size: 48px; font-weight: 700; margin-bottom: 16px;">‚Çπ12,450</div>
                        <div style="display: flex; gap: 12px;">
                            <button class="btn" style="background: rgba(255,255,255,0.2); color: white; border: 1px solid rgba(255,255,255,0.3);">
                                üí∏ Withdraw
                            </button>
                            <button class="btn" style="background: rgba(255,255,255,0.2); color: white; border: 1px solid rgba(255,255,255,0.3);">
                                üìä History
                            </button>
                        </div>
                    </div>

                    <h3 style="margin-bottom: 16px;">Earnings Breakdown</h3>
                    <div class="stat-grid">
                        <div class="summary-box">
                            <div class="summary-label">Delivery</div>
                            <div class="summary-value">‚Çπ8,400</div>
                        </div>
                        <div class="summary-box">
                            <div class="summary-label">Instant Orders</div>
                            <div class="summary-value">‚Çπ3,200</div>
                        </div>
                        <div class="summary-box">
                            <div class="summary-label">Bonuses</div>
                            <div class="summary-value">‚Çπ850</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Earnings Page -->
            <div id="earningsPage" class="page-content" style="display: none;">
                <div class="page-header">
                    <div class="page-header-left">
                        <h2>üìä My Earnings</h2>
                        <p>Track your earnings and performance</p>
                    </div>
                </div>
                <div class="empty-state">
                    <div class="empty-state-icon">üìä</div>
                    <h3>Earnings history</h3>
                    <p>View daily, weekly, and monthly earnings breakdown</p>
                </div>
            </div>

            <!-- Phase 3: Analytics Page -->
            <div id="analyticsPage" class="page-content" style="display: none;"></div>
        </main>
    </div>

    <!-- Authentication Module -->
    <script src="../../backend/auth.js"></script>

    <!-- Phase 1-2: Core Modules -->
    <script src="../../backend/utils.js"></script>
    <script src="../../backend/subscription.js"></script>
    <script src="../../backend/orders.js"></script>
    <script src="../../backend/delivery.js"></script>
    <script src="../../backend/wallet.js"></script>
    <script src="../../backend/calendar.js"></script>

    <!-- Phase 3: Intelligent Input & Smart Features -->
    <script src="../features/voice.js"></script>
    <script src="../features/image-ocr.js"></script>
    <script src="../features/smart-features.js"></script>

    <!-- Phase 3: Supplier Integration & Analytics -->
    <script src="../features/supplier.js"></script>
    <script src="../features/analytics.js"></script>

    <!-- Phase 3: Frontend UI Controller -->
    <script src="../features/phase3-ui.js"></script>

    <!-- Delivery Boy Dashboard -->
    <script src="../features/delivery-boy-ui.js"></script>

    <script>
        // ============================================
        // Delivery Portal UI Controller
        // ============================================
        const deliveryPortalUI = {
            state: {
                deliveryBoyId: localStorage.getItem('deliveryBoyId') || 'DB001',
                today: new Date().toISOString().split('T')[0]
            },

            loadAMDeliveries() {
                const deliveries = EarlyBirdDelivery.getDeliveriesForSlot('am', this.state.today);
                this.renderDeliveries('am', deliveries);
            },

            loadPMDeliveries() {
                const deliveries = EarlyBirdDelivery.getDeliveriesForSlot('pm', this.state.today);
                this.renderDeliveries('pm', deliveries);
            },

            renderDeliveries(slot, deliveries) {
                const containerId = slot + 'DeliveriesList';
                const countId = slot + 'DeliveryCount';
                const container = document.getElementById(containerId);

                // Update count
                document.getElementById(countId).textContent = 
                    `${deliveries.length} deliveries pending`;

                if (deliveries.length === 0) {
                    container.innerHTML = '<div class="empty-state" style="padding: 40px;"><div class="empty-state-icon">üì≠</div><h3>No deliveries</h3><p>All deliveries completed!</p></div>';
                    return;
                }

                let html = `<h3 style="margin-bottom: 20px;">Route: Today's ${slot.toUpperCase()} Deliveries</h3>`;
                
                deliveries.forEach((delivery, index) => {
                    const itemsList = delivery.currentItems
                        .map(item => `${item.productName || 'Item'} ${item.quantity}${item.unit}`)
                        .join(', ');

                    html += `
                        <div style="padding: 16px; background: var(--light); border-radius: 8px; margin-bottom: 12px; border-left: 4px solid var(--primary);">
                            <div style="font-weight: 600; margin-bottom: 8px;">
                                Stop ${index + 1}: ${delivery.customerName}
                                <span style="float: right; font-size: 12px; background: var(--primary); color: white; padding: 2px 8px; border-radius: 12px;">
                                    ‚Çπ${delivery.currentTotal}
                                </span>
                            </div>
                            <div style="font-size: 14px; color: var(--text-secondary); margin-bottom: 8px;">
                                üìç ${delivery.location || 'Address on file'}
                            </div>
                            <div style="font-size: 14px; margin-bottom: 12px;">
                                <strong>Items (${delivery.currentItems.length}):</strong> ${itemsList}
                            </div>
                            <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                                <button class="btn btn-sm" style="background: var(--success); color: white;" 
                                    onclick="Toast.info('Calling customer...', 'Call')">üìû ${delivery.customerPhone}</button>
                                <button class="btn btn-sm" style="background: var(--secondary); color: white;" 
                                    onclick="Toast.info('Opening maps...', 'Navigation')">üìç Navigate</button>
                                <button class="btn btn-sm btn-primary" 
                                    onclick="deliveryPortalUI.openMarkDeliveredModal('${delivery.id}')">‚úì Mark Delivered</button>
                            </div>
                        </div>
                    `;
                });

                container.innerHTML = html;
            },

            openMarkDeliveredModal(deliveryId) {
                const delivery = EarlyBirdDelivery.getDelivery(deliveryId);
                if (!delivery) {
                    Toast.warning('Delivery not found', 'Not Found');
                    return;
                }

                const modal = document.createElement('div');
                modal.className = 'modal-overlay';
                modal.innerHTML = `
                    <div class="modal-dialog">
                        <div class="modal-header">
                            <h2>‚úì Mark Delivery Complete</h2>
                            <button onclick="this.closest('.modal-overlay').remove()" style="background: none; border: none; font-size: 20px; cursor: pointer;">‚úï</button>
                        </div>
                        <div class="modal-body" style="padding: 20px;">
                            <p style="margin-bottom: 16px;"><strong>${delivery.customerName}</strong> - ‚Çπ${delivery.currentTotal}</p>

                            <label style="display: block; margin-bottom: 16px; font-weight: 600;">Payment Method</label>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 20px;">
                                <button class="payment-btn" data-method="cash" 
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 8px; cursor: pointer; font-weight: 600;">
                                    üíµ Cash
                                </button>
                                <button class="payment-btn" data-method="wallet" 
                                    style="padding: 12px; border: 2px solid var(--border); border-radius: 8px; cursor: pointer; font-weight: 600;">
                                    üí≥ Wallet
                                </button>
                            </div>

                            <div id="cashAmount" style="display: none; margin-bottom: 16px;">
                                <label style="display: block; margin-bottom: 8px; font-weight: 600;">Amount Collected</label>
                                <input type="number" id="collectAmount" placeholder="Enter amount" value="${delivery.currentTotal}" 
                                    style="width: 100%; padding: 10px; border: 1px solid var(--border); border-radius: 6px;">
                            </div>

                            <label style="display: block; margin-bottom: 8px; font-weight: 600;">Proof of Delivery</label>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 20px;">
                                <button class="proof-btn" data-proof="photo" style="padding: 12px; border: 2px solid var(--border); border-radius: 8px; cursor: pointer;">
                                    üì∑ Photo
                                </button>
                                <button class="proof-btn" data-proof="otp" style="padding: 12px; border: 2px solid var(--border); border-radius: 8px; cursor: pointer;">
                                    üîê OTP
                                </button>
                            </div>

                            <div style="display: flex; gap: 12px;">
                                <button class="btn btn-primary" style="flex: 1;" 
                                    onclick="deliveryPortalUI.confirmMarkDelivered('${deliveryId}')">
                                    ‚úì Complete Delivery
                                </button>
                                <button class="btn btn-outline" style="flex: 1;" 
                                    onclick="this.closest('.modal-overlay').remove()">
                                    Cancel
                                </button>
                            </div>
                        </div>
                    </div>
                `;

                document.body.appendChild(modal);

                // Payment method selection
                modal.querySelectorAll('.payment-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        modal.querySelectorAll('.payment-btn').forEach(b => b.style.borderColor = 'var(--border)');
                        this.style.borderColor = 'var(--primary)';
                        
                        if (this.dataset.method === 'cash') {
                            document.getElementById('cashAmount').style.display = 'block';
                        } else {
                            document.getElementById('cashAmount').style.display = 'none';
                        }
                    });
                });
            },

            confirmMarkDelivered(deliveryId) {
                const proof = document.querySelector('.proof-btn[style*="border-color: var(--primary)"]');
                if (!proof) {
                    Toast.error('Please select proof of delivery', 'Required');
                    return;
                }

                const proofData = {
                    photo: proof.dataset.proof === 'photo' ? 'captured' : null,
                    otp: proof.dataset.proof === 'otp' ? 'verified' : null
                };

                EarlyBirdDelivery.markDelivered(deliveryId, proofData);

                // If cash, collect amount
                const payment = document.querySelector('.payment-btn[style*="border-color: var(--primary)"]');
                if (payment && payment.dataset.method === 'cash') {
                    const amount = parseFloat(document.getElementById('collectAmount').value);
                    if (amount > 0) {
                        EarlyBirdDelivery.collectCash(deliveryId, amount);
                    }
                }

                document.querySelector('.modal-overlay').remove();
                this.loadAMDeliveries();
                this.loadPMDeliveries();
            }
        };

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', () => {
            // Check authentication
            if (!EarlyBirdAuth.isAuthenticated()) {
                window.location.href = 'login.html';
                return;
            }

            const currentUser = EarlyBirdAuth.getCurrentUser();
            if (currentUser.role !== 'delivery_boy') {
                Toast.warning('Access denied. Delivery boys only.', 'Access Denied');
                window.location.href = EarlyBirdAuth.getRedirectUrl(currentUser.role);
                return;
            }

            // Display user info in header
            const userInfoEl = document.querySelector('.user-info .user-name');
            if (userInfoEl) {
                userInfoEl.textContent = currentUser.name;
            }

            // Set delivery boy ID for the UI
            if (typeof deliveryBoyUI !== 'undefined') {
                deliveryBoyUI.state.deliveryBoyId = currentUser.userId;
            }

            initCalendar();
        });

        function showPage(pageId) {
            document.querySelectorAll('.page-content').forEach(page => {
                page.style.display = 'none';
            });
            
            const page = document.getElementById(pageId + 'Page');
            if (page) {
                page.style.display = 'block';
            }
            
            setActiveNav(pageId);
            
            if (pageId === 'calendar') {
                setTimeout(() => {
                    initCalendar();
                }, 100);
            } else if (pageId === 'am-deliveries') {
                deliveryPortalUI.loadAMDeliveries();
            } else if (pageId === 'pm-deliveries') {
                deliveryPortalUI.loadPMDeliveries();
            }
        }
    </script>
    <!-- Subscription Integration Scripts -->
    <script src="../features/subscription-integration.js"></script>
</body>
</html>
